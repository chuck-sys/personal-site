<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="/css/main.css">

<!-- Custom stylesheets -->


    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>NCURSES Terminal Text Editor Tutorial Part 2 | Cheuk’s Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="NCURSES Terminal Text Editor Tutorial Part 2" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Welcome Back" />
<meta property="og:description" content="Welcome Back" />
<meta property="og:site_name" content="Cheuk’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-02-01T12:17:00-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="NCURSES Terminal Text Editor Tutorial Part 2" />
<script type="application/ld+json">
{"description":"Welcome Back","headline":"NCURSES Terminal Text Editor Tutorial Part 2","dateModified":"2015-02-01T12:17:00-08:00","datePublished":"2015-02-01T12:17:00-08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/tutorial/c++/2015/02/01/ncurses-editor-tutorial-02.html"},"url":"/tutorial/c++/2015/02/01/ncurses-editor-tutorial-02.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    
  <head>

  <body>
    <div class="wrapper">
      <nav>
  <a href="/" class="nav-title">
    Cheuk's Blog
  </a>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <a class="nav-links" href="/resources/">Resources</a>
  
  
  
  
  
  
  
  
  
  
  
  
  
  <a class="nav-links" href="/about/">About</a>
  
  
</nav>

      
      <article class="post">
  <h1 class="title">NCURSES Terminal Text Editor Tutorial Part 2</h1>
  <span>
    <span>
    Tags:
    
    <a href="/tag/tutorial">
      tutorial
    </a>
    
    <a href="/tag/c++">
      c++
    </a>
    
    <a href="/tag/ncurses">
      ncurses
    </a>
    
    <a href="/tag/editor">
      editor
    </a>
    
    </span>
    <span class="meta">01 Feb 2015</span>
  </span>

  

<ul class="nav nav-pills">
  
  

  

  

  
      <li><a href="/tutorial/c++/2015/02/01/ncurses-editor-tutorial-01.html">NCURSES Terminal Text Editor Tutorial Part 1</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/01/ncurses-editor-tutorial-02.html">NCURSES Terminal Text Editor Tutorial Part 2</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/04/ncurses-editor-tutorial-03.html">NCURSES Terminal Text Editor Tutorial Part 3</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/07/ncurses-editor-tutorial-04.html">NCURSES Terminal Text Editor Tutorial Part 4</a></li>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


</ul>

<h2 id="welcome-back">Welcome Back</h2>

<p>Last time, we finished the basic skeleton, and now it is time to implement some
functions! Let’s do some easy ones first.</p>

<h2 id="the-buffer-class">The Buffer Class</h2>

<p>Create a file <code class="language-plaintext highlighter-rouge">Buffer.cpp</code>. This all should be fairly straightforward and easy
to understand. We’ll set up first.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include "Buffer.h"
</span>
<span class="n">Buffer</span><span class="o">::</span><span class="n">Buffer</span><span class="p">()</span> <span class="p">{}</span>
</code></pre></div></div>

<p>Let’s have fun with recursion now, and do the <code class="language-plaintext highlighter-rouge">remTabs(string)</code> function!</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="n">Buffer</span><span class="o">::</span><span class="n">remTabs</span><span class="p">(</span><span class="n">string</span> <span class="n">line</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">tab</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">tab</span> <span class="o">==</span> <span class="n">line</span><span class="p">.</span><span class="n">npos</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">line</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">remTabs</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"    "</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Keep in mind that there are 4 spaces in the string. This function recursively
finds a tab in a line. When a tab is found, it goes again until no more tabs
could be found, then returns the line.</p>

<p>Now for some helper functions for line operations. These are not really
necessary but are asthetically pleasing should you use them in your <code class="language-plaintext highlighter-rouge">Editor.cpp</code>
file (which you will). It makes your code there more readable (I think).</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">Buffer</span><span class="o">::</span><span class="n">insertLine</span><span class="p">(</span><span class="n">string</span> <span class="n">line</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">remTabs</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>                   <span class="c1">// Conversion (happens every time)</span>
    <span class="n">lines</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">lines</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="n">n</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Buffer</span><span class="o">::</span><span class="n">appendLine</span><span class="p">(</span><span class="n">string</span> <span class="n">line</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">remTabs</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
    <span class="n">lines</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Buffer</span><span class="o">::</span><span class="n">removeLine</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">lines</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">lines</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="n">n</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="an-abrupt-end">An Abrupt End</h2>

<p>And that’s it till next time! You are ready for Part 3!</p>


<ul class="nav nav-pills">
  
  

  

  

  
      <li><a href="/tutorial/c++/2015/02/01/ncurses-editor-tutorial-01.html">NCURSES Terminal Text Editor Tutorial Part 1</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/01/ncurses-editor-tutorial-02.html">NCURSES Terminal Text Editor Tutorial Part 2</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/04/ncurses-editor-tutorial-03.html">NCURSES Terminal Text Editor Tutorial Part 3</a></li>
  

  
      <li><a href="/tutorial/c++/2015/02/07/ncurses-editor-tutorial-04.html">NCURSES Terminal Text Editor Tutorial Part 4</a></li>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


</ul>

</article>

<footer class="post-foot">
  <span class="prev">
  
    <span>Prev</span>
    <a href="/tutorial/c++/2015/02/01/ncurses-editor-tutorial-01.html">NCURSES Terminal Text Editor Tutorial Part 1</a>
  
  </span>
  <span class="next">
  
    <span>Next</span>
    <a href="/tutorial/c++/2015/02/04/ncurses-editor-tutorial-03.html">NCURSES Terminal Text Editor Tutorial Part 3</a>
  
  </span>
</footer>

    </div>
  </body>

</html>
