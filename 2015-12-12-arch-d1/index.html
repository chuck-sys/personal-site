<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Cheuk&#39;s Blog: Arch Linux Day 1: Installation</title>
    
<meta name="keywords" content="terminal,ncurses,ocaml,how-to,GNOME,imagemagick,testing,spoilers,neovim,github,jekyll,installation,config,tutorial,lightning,graphics,review,compression,transparent,tokenizer,group,exercise,Huffman,updates,games,project,gstreamer,easy,i3,wallclimbing,linux,encoder,interpretor,deemo,fun,rest,assignment,computer,perl,racket,TinyBASIC,writing,challenge,movie,unity,go,cli,bits,music,c++,status,dosbox,question,programming,death,chip8,visual,plane,apps,ruby,theory,amy tan,overcome,phone,ACE,vim,decompression,arch,flask,compton,qbasic,scrabble,pygame,python,emulator,bioperl,lambda,data,assembler,ray casting,bioinformatics,ctf,decoder,plugins,procrastination,journal,writeup,school,fire,cursive,basic,editor,Xorg,headers">

<meta name="description" content="DisclaimerThis is by no means a tutorial or a guide to installing Arch Linux - it is just
how I did my things. Everything that I do should be taken as (at the most)
advice. Everything written here should be taken with a grain of salt, as I am
going off of my memory of what I have done, and may have forgotten things, even
if it was only a few days since I have actually done the deed. I don&#39;t remember
every command that I execute.">

<meta property="og:description" content="DisclaimerThis is by no means a tutorial or a guide to installing Arch Linux - it is just
how I did my things. Everything that I do should be taken as (at the most)
advice. Everything written here should be taken with a grain of salt, as I am
going off of my memory of what I have done, and may have forgotten things, even
if it was only a few days since I have actually done the deed. I don&#39;t remember
every command that I execute.">

<meta property="og:url" content="https://cheuksblog.ca/2015-12-12-arch-d1/" />
<meta property="og:title" content="Arch Linux Day 1: Installation" />
<meta property="og:type" content="article" />

    <link rel="canonical" href="https://cheuksblog.ca/2015-12-12-arch-d1/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/css/gruvbox-dark.min.css" rel="stylesheet" type="text/css" />
    <link href="/css/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="wrapper">
      <nav>
  <a href="/" class="nav-title">Cheuk&#39;s Blog</a>

  <a class="nav-links" href="/">Portfolio</a>
  <a class="nav-links" href="/archives">Posts</a>
</nav>


      
<article class="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">December 12, 2015</div>
        
    </div>
    <h2>Arch Linux Day 1: Installation</h2>
</div>
<div>
    <ol class="toc"><li><a href="#disclaimer">Disclaimer</a></li><li><a href="#the-process">The Process</a></li><ol><li><a href="#the-installation-media">The Installation Media</a></li><li><a href="#booting-up">Booting Up</a></li><ol><li><a href="#partitioning">Partitioning</a></li><li><a href="#formatting-the-partitions">Formatting the Partitions</a></li><li><a href="#installation-of-the-base-system">Installation of the Base System</a></li><li><a href="#configure-network">Configure Network</a></li><li><a href="#install-the-boot-loader">Install the Boot-Loader</a></li><li><a href="#setting-root-password">Setting root Password</a></li><li><a href="#exiting-and-rebooting">Exiting and Rebooting</a></li></ol><li><a href="#first-login">First Login</a></li><li><a href="#creating-a-user">Creating a User</a></li></ol><li><a href="#a-whole-new-world">A Whole New World</a></li></ol>
    <h2 id="disclaimer">Disclaimer</h2><p>This is by no means a tutorial or a guide to installing Arch Linux - it is just
how I did my things. Everything that I do should be taken as (at the most)
advice. Everything written here should be taken with a grain of salt, as I am
going off of my memory of what I have done, and may have forgotten things, even
if it was only a few days since I have actually done the deed. I don't remember
every command that I execute.</p><h2 id="the-process">The Process</h2><h3 id="the-installation-media">The Installation Media</h3><p>You won't believe me when I tell you that the most difficult part of this day
was to burn the image to the disk. But let me tell you: it was.</p><p>The main tool I used was ImgBurn on Windows 10. I downloaded the
<a href="https://www.archlinux.org/download/">ISO image</a>, which was around 600MB. I then proceeded to insert a blank
DVD into my disk drive, and started up ImgBurn. I finished burning the image
onto my disk, but the problem came when ImgBurn started verifying my disk.
At the 20% mark, verification errors began popping up for no reason. I know
because I tried burning it on my Ubuntu laptop, and was successful (which is
why I am using Arch right now). Some research showed me that it was not
ImgBurn's problem, but a combined problem between old hardware and new
software/drivers. Mind you that my main laptop is almost 6 years old (as of
writing this).</p><h3 id="booting-up">Booting Up</h3><p>After that fiasco, I booted my disk, and boy did it load up fast.</p><h4 id="partitioning">Partitioning</h4><p>The first thing I did was (re)partitioning my disk. Since I did not have
multiple hard drives, I had to partition my disk. Unfortunately for me,
Windows 10 has already partitioned my disk into 3 parts: the boot-loader,
my main <code>C:\</code> drive, and a recovery partition, making 3 primary partitions. As
you may or may not know, you can only have 4 partitions on 1 disk at the same
time. I saw that my previous Fedora 20 distribution got around this by making
a logical partition.</p><p>Using <code>cfdisk</code>, I deleted my Fedora partitions, then created a large logical
partition (with the remaining space) and pushed my root, boot, swap, and home
partitions on there. I gave every partition type ext4 (default) except swap
(Linux swap/Solaris). I then saved and exited.</p><h4 id="formatting-the-partitions">Formatting the Partitions</h4><p>After all the partitioning, I used <code>fdisk -l</code> to list out all the available
partitions. I then tried to format my swap partition with the commands:</p><pre><code class="sh">mkswap /dev/sda7
swapon /dev/sda7
</code></pre><p>This failed miserably with an error. I then found out that my beloved Fedora 20
installation formatted every partition it touched with lvm. I removed them all
with <code>lvremove -r /dev/mapping/fedora</code> and tried formatting again. It worked.</p><pre><code class="sh">mkfs.ext4 /dev/sda5     # Root
mkfs.ext4 /dev/sda6     # Boot
mkfs.ext4 /dev/sda8     # Home (doesn't rhyme with 'oot')
</code></pre><h4 id="installation-of-the-base-system">Installation of the Base System</h4><p>With formatting done and out of the way, next comes installation of base
packages. The instructions say that I have to install the packages to the
root partition, and that's what I did.</p><pre><code class="sh"># Mount everything
mkdir /mnt/home /mnt/boot
mount /dev/sda5 /mnt
mount /dev/sda6 /mnt/boot
mount /dev/sda8 /mnt/home

# Install the base package
pacstrap /mnt base
</code></pre><p>One thing that I need to do before chroot-ing into the new system is to generate
an fstab file:</p><pre><code class="sh">genfstab -p /mnt &gt;&gt; /mnt/etc/fstab
arch-chroot /mnt    # Change root
</code></pre><h4 id="configure-network">Configure Network</h4><p>I wanted a working ethernet connection, so I did <code>systemctl enable dhcpcd@enp3s0.service</code> to enable the ethernet service for my machine. You may
have a different device name, like <code>eth0</code>.</p><h4 id="install-the-boot-loader">Install the Boot-Loader</h4><p>I've been using GRUB before, and didn't want to change, so I ran <code>pacman -S grub os-prober</code> to install GRUB and a module called <code>os-prober</code> that detects
my Windows OS so that GRUB recognizes it and allows me to boot from that as
well.</p><p>To configure and install GRUB:</p><pre><code class="sh">grub-mkconfig -o /boot/grub/grub.cfg    # Create config file
grub-install --recheck /dev/sda         # Install GRUB
</code></pre><h4 id="setting-root-password">Setting root Password</h4><p>One of the last things that you should do is to set the password for root user
for the next/first time you login. A simple <code>passwd</code> does it.</p><h4 id="exiting-and-rebooting">Exiting and Rebooting</h4><p>I exited the chroot with exit (<kbd>Ctrl+D</kbd> also works). Afterwards, I
unmounted all the mounted partitions with <code>unmount -R /mnt</code>, the <code>-R</code> being
recursive to unmount everything recursively. Apparently, unmounting also
checks for problems with <code>fuser</code>. I rebooted the machine with <code>reboot</code>.</p><h3 id="first-login">First Login</h3><p>At last, it was time for me to login for the first time! GRUB loaded correctly,
and defaulted to Arch Linux. The loading-up was very fast, as I had nearly
nothing to load. I successfully logged in with my root account, and was greeted
with a very nice shell prompt.</p><h3 id="creating-a-user">Creating a User</h3><p>Creating a user is very essential - I don't want to be logging in as the root
user every time because if I screw something up, I lose everything.</p><pre><code class="sh">useradd -m cheukyin699  # Create the user
passwd cheukyin699      # Change the password

pacman -S sudo          # Install sudo
visudo                  # Edit sudoers file to add user
reboot
</code></pre><h2 id="a-whole-new-world">A Whole New World</h2><p>After rebooting, it's time to login a second time as a normal user and start
installing stuff. But I thought that what I did was good enough for the day.</p>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/installation/">installation</a>
    
    <a href="/linux/">linux</a>
    
</div>


</article>
<footer class="post-foot">
  <span class="prev">
  
    <span>Prev</span>
    <a href="/2015-12-15-arch-d2/">Arch Linux Day 2: Setting up GNOME</a>
  
  </span>
  <span class="next">
  
    <span>Next</span>
    <a href="/2015-12-09-arch-d0/">Arch Linux Day 0: Fact-Checking</a>
  
  </span>
</footer>

    </div>

    <script src="/js/highlight.pack.js" type="application/javascript"></script>
    <script defer>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
