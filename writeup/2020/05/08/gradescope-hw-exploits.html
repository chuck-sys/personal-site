<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="/css/main.css">

<!-- Custom stylesheets -->


    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Taking advantage of output dumping for a Gradescope programming assignment | Cheuk’s Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Taking advantage of output dumping for a Gradescope programming assignment" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An older story about exploiting the design of an autograder for a marginal increase in marks, that didn’t matter in the slightest in the end." />
<meta property="og:description" content="An older story about exploiting the design of an autograder for a marginal increase in marks, that didn’t matter in the slightest in the end." />
<meta property="og:site_name" content="Cheuk’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-08T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Taking advantage of output dumping for a Gradescope programming assignment" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"/writeup/2020/05/08/gradescope-hw-exploits.html"},"description":"An older story about exploiting the design of an autograder for a marginal increase in marks, that didn’t matter in the slightest in the end.","url":"/writeup/2020/05/08/gradescope-hw-exploits.html","@type":"BlogPosting","headline":"Taking advantage of output dumping for a Gradescope programming assignment","dateModified":"2020-05-08T00:00:00+00:00","datePublished":"2020-05-08T00:00:00+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    
  <head>

  <body>
    <div class="wrapper">
      <nav>
  <a href="/" class="nav-title">
    Cheuk's Blog
  </a>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <a class="nav-links" href="/resources/">Resources</a>
  
  
  
  
  
  
  
  
  
  
  
  <a class="nav-links" href="/about/">About</a>
  
  
</nav>

      
      <article class="post">
  <h1 class="title">Taking advantage of output dumping for a Gradescope programming assignment</h1>
  <span>
    <span>
    Tags:
    
    <a href="/tag/writeup">
      writeup
    </a>
    
    <a href="/tag/c++">
      c++
    </a>
    
    <a href="/tag/assignment">
      assignment
    </a>
    
    </span>
    <span class="meta">08 May 2020</span>
  </span>

  <blockquote>
  <p>An old story I’ve been saving up.</p>
</blockquote>

<p>So I submitted my CS 221 Intro to Data Structures and Algorithms programming
assignment and found something very peculiar. I couldn’t figure out why one of
the tests were failing. The test in question was one of those private tests
that students don’t have access to, to prevent students from simply outputting
the solution when given a certain input. And to that, I was also pretty sure
that I had followed the assignment to the tee. And thus I wanted to find out
what was the exact input to the test. Luckily for me, the designer for this
assignment left out a point to exploit.</p>

<p>The automated grader would first take the uploaded files and compile them with
the on-board test suite, and then run the tests. After running the tests, it
would dump the output from <code class="language-plaintext highlighter-rouge">valgrind</code> to give the student some indication on
memory usage and leakage. The problem here is that <code class="language-plaintext highlighter-rouge">valgrind</code> doesn’t only
print memory usage and leakage. It also prints anything in <code class="language-plaintext highlighter-rouge">stdout</code> and
<code class="language-plaintext highlighter-rouge">stderr</code>. I also noticed that the <code class="language-plaintext highlighter-rouge">Makefile</code> build was echoed on screen. I not
only had the name of the file for private testing, but also the means for
printing anything out. Which means:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;fstream&gt;
#include &lt;sstream&gt;
#include &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">someFunctionThatOnlyRunsOnce</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">ifstream</span> <span class="n">is</span><span class="p">(</span><span class="s">"testgrid.cpp"</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">is</span><span class="p">.</span><span class="n">is_open</span><span class="p">())</span> <span class="p">{</span>
		<span class="n">stringstream</span> <span class="n">ss</span><span class="p">;</span>
		<span class="n">ss</span> <span class="o">&lt;&lt;</span> <span class="n">is</span><span class="p">.</span><span class="n">rdbuf</span><span class="p">();</span>
		<span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>After compiling to make sure nothing breaks, I uploaded it for the grader to
run and got my results back. I found that the bug was not in my code, but in
the form of a hidden requirement. The goal of this assignment was to work with
a grid in the form of 2D linked lists. The hidden requirement was that the
tests expected the program to take row and column input that were larger than
the actual grid. According to the test, the actual grid should be infinite,
with the rows and columns cycling. To adhere to these new requirements, I would
simply take the inputs to the function and <code class="language-plaintext highlighter-rouge">(mod &lt;row-size|col-size&gt;)</code>. This
was not specified in the assignment details.</p>

<p>And so I went and made the changes. All was well.</p>

<h2 id="aftermath">Aftermath</h2>

<p>A few hours after I finished working on this programming assignment, there was
an announcement about the homework that talked about this hidden requirement.
The things I do for marks….</p>

</article>

<footer class="post-foot">
  <span class="prev">
  
    <span>Prev</span>
    <a href="/gstreamer/2020/03/18/gstreamer-tricks.html">gstreamer tips and tricks</a>
  
  </span>
  <span class="next">
  
    <span>Next</span>
    <a href="/writeup/2020/05/26/timed-tjctf.html">Timed - tjctf</a>
  
  </span>
</footer>

    </div>
  </body>

</html>
